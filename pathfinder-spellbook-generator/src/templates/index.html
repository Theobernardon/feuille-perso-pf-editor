{% extends 'base.html' %}

{% block title %}Grimoire Pathfinder 2e - G√©n√©rateur{% endblock %}

{% block content %}
<section class="welcome">
    <h2>Bienvenue dans le G√©n√©rateur de Grimoire</h2>
    <p>Cet outil vous permet de cr√©er un grimoire de sorts √©l√©gant √† partir des donn√©es de votre personnage Pathfinder 2e.</p>
    
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="flash-messages">
                <ul>
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    {% endwith %}
    
    <div class="upload-container">
        <h3>T√©l√©chargez votre fichier de personnage</h3>
        <p>Pour commencer, importez le fichier JSON de votre personnage export√© depuis Foundry VTT.</p>
        
        <form action="{{ url_for('upload_file') }}" method="post" enctype="multipart/form-data">
            <div class="file-input">
                <input type="file" name="file" id="file" accept=".json">
                <label for="file">
                    <span class="icon">üìÅ</span>
                    <span class="label">Choisir un fichier...</span>
                </label>
                <span id="file-name">Aucun fichier s√©lectionn√©</span>
            </div>
            <button type="submit" class="btn primary">G√©n√©rer le Grimoire</button>
        </form>
    </div>
    
    <div class="instructions">
        <h3>Comment utiliser cet outil</h3>
        <ol>
            <li>Exportez votre personnage depuis Foundry VTT au format JSON</li>
            <li>T√©l√©chargez le fichier JSON via le formulaire ci-dessus</li>
            <li>Cliquez sur "G√©n√©rer le Grimoire" pour cr√©er votre livre de sorts</li>
            <li>Vous pourrez ensuite t√©l√©charger ou imprimer votre grimoire personnalis√©</li>
        </ol>
    </div>
</section>

<section class="features">
    <h2>Fonctionnalit√©s</h2>
    
    <div class="feature-grid">
        <div class="feature-card">
            <div class="icon">üßô</div>
            <h3>Organisation par tradition</h3>
            <p>Les sorts sont organis√©s selon leur tradition magique : arcanique, divine, primordiale ou occulte.</p>
        </div>
        
        <div class="feature-card">
            <div class="icon">üìö</div>
            <h3>Classement par niveau</h3>
            <p>Naviguez facilement parmi vos sorts gr√¢ce √† une organisation claire par niveau.</p>
        </div>
        
        <div class="feature-card">
            <div class="icon">üé®</div>
            <h3>Design th√©matique</h3>
            <p>Un design √©l√©gant inspir√© des grimoires m√©di√©vaux et de l'esth√©tique de Pathfinder.</p>
        </div>
        
        <div class="feature-card">
            <div class="icon">üîç</div>
            <h3>D√©tails complets</h3>
            <p>Visualisez tous les d√©tails de vos sorts : actions, port√©e, zone d'effet, dur√©e, etc.</p>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    // Script pour afficher le nom du fichier s√©lectionn√©
    document.getElementById('file').addEventListener('change', function() {
        const fileName = this.files[0] ? this.files[0].name : 'Aucun fichier s√©lectionn√©';
        document.getElementById('file-name').textContent = fileName;
    });
</script>
{% endblock %}